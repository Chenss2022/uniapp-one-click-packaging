"use strict";var Xi=Object.create;var Dr=Object.defineProperty;var Vi=Object.getOwnPropertyDescriptor;var Zi=Object.getOwnPropertyNames;var Ji=Object.getPrototypeOf,Yi=Object.prototype.hasOwnProperty;var B=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var es=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zi(t))!Yi.call(e,i)&&i!==r&&Dr(e,i,{get:()=>t[i],enumerable:!(n=Vi(t,i))||n.enumerable});return e};var pt=(e,t,r)=>(r=e!=null?Xi(Ji(e)):{},es(t||!e||!e.__esModule?Dr(r,"default",{value:e,enumerable:!0}):r,e));var rn=B((ou,tn)=>{var jr=require("fs"),Ce=require("path"),Kr=require("os"),Wr=typeof __webpack_require__=="function"?__non_webpack_require__:require,ts=process.config&&process.config.variables||{},rs=!!process.env.PREBUILDS_ONLY,Fr=process.versions.modules,Ot=ss()?"electron":is()?"node-webkit":"node",Ht=process.env.npm_config_arch||Kr.arch(),Lt=process.env.npm_config_platform||Kr.platform(),Qr=process.env.LIBC||(os(Lt)?"musl":"glibc"),Mt=process.env.ARM_VERSION||(Ht==="arm64"?"8":ts.arm_version)||"",zr=(process.versions.uv||"").split(".")[0];tn.exports=be;function be(e){return Wr(be.resolve(e))}be.resolve=be.path=function(e){e=Ce.resolve(e||".");try{var t=Wr(Ce.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch{}if(!rs){var r=Ur(Ce.join(e,"build/Release"),Gr);if(r)return r;var n=Ur(Ce.join(e,"build/Debug"),Gr);if(n)return n}var i=a(e);if(i)return i;var s=a(Ce.dirname(process.execPath));if(s)return s;var o=["platform="+Lt,"arch="+Ht,"runtime="+Ot,"abi="+Fr,"uv="+zr,Mt?"armv="+Mt:"","libc="+Qr,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+o+`
    loaded from: `+e+`
`);function a(h){var R=kt(Ce.join(h,"prebuilds")).map(Xr),d=R.filter(Vr(Lt,Ht)).sort(Zr)[0];if(d){var E=Ce.join(h,"prebuilds",d.name),c=kt(E).map(Jr),y=c.filter(Yr(Ot,Fr)),g=y.sort(en(Ot))[0];if(g)return Ce.join(E,g.file)}}};function kt(e){try{return jr.readdirSync(e)}catch{return[]}}function Ur(e,t){var r=kt(e).filter(t);return r[0]&&Ce.join(e,r[0])}function Gr(e){return/\.node$/.test(e)}function Xr(e){var t=e.split("-");if(t.length===2){var r=t[0],n=t[1].split("+");if(r&&n.length&&n.every(Boolean))return{name:e,platform:r,architectures:n}}}function Vr(e,t){return function(r){return r==null||r.platform!==e?!1:r.architectures.includes(t)}}function Zr(e,t){return e.architectures.length-t.architectures.length}function Jr(e){var t=e.split("."),r=t.pop(),n={file:e,specificity:0};if(r==="node"){for(var i=0;i<t.length;i++){var s=t[i];if(s==="node"||s==="electron"||s==="node-webkit")n.runtime=s;else if(s==="napi")n.napi=!0;else if(s.slice(0,3)==="abi")n.abi=s.slice(3);else if(s.slice(0,2)==="uv")n.uv=s.slice(2);else if(s.slice(0,4)==="armv")n.armv=s.slice(4);else if(s==="glibc"||s==="musl")n.libc=s;else continue;n.specificity++}return n}}function Yr(e,t){return function(r){return!(r==null||r.runtime&&r.runtime!==e&&!ns(r)||r.abi&&r.abi!==t&&!r.napi||r.uv&&r.uv!==zr||r.armv&&r.armv!==Mt||r.libc&&r.libc!==Qr)}}function ns(e){return e.runtime==="node"&&e.napi}function en(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}function is(){return!!(process.versions&&process.versions.nw)}function ss(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function os(e){return e==="linux"&&jr.existsSync("/etc/alpine-release")}be.parseTags=Jr;be.matchTags=Yr;be.compareTags=en;be.parseTuple=Xr;be.matchTuple=Vr;be.compareTuples=Zr});var nn=B((uu,Pt)=>{var It=typeof __webpack_require__=="function"?__non_webpack_require__:require;typeof It.addon=="function"?Pt.exports=It.addon.bind(It):Pt.exports=rn()});var ht=B(de=>{"use strict";de.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;de.find=(e,t)=>e.nodes.find(r=>r.type===t);de.exceedsLimit=(e,t,r=1,n)=>n===!1||!de.isInteger(e)||!de.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;de.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};de.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);de.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;de.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;de.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);de.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];if(Array.isArray(s)){r(s);continue}s!==void 0&&t.push(s)}return t};return r(e),t}});var dt=B((cu,on)=>{"use strict";var sn=ht();on.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&sn.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&sn.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let h of n.nodes)a+=r(h);return a};return r(e)}});var an=B((lu,un)=>{"use strict";un.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Rn=B((fu,gn)=>{"use strict";var cn=an(),Le=(e,t,r)=>{if(cn(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(cn(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),h=e+":"+t+"="+i+s+o+a;if(Le.cache.hasOwnProperty(h))return Le.cache[h].result;let R=Math.min(e,t),d=Math.max(e,t);if(Math.abs(R-d)===1){let b=e+"|"+t;return n.capture?`(${b})`:n.wrap===!1?b:`(?:${b})`}let E=_n(e)||_n(t),c={min:e,max:t,a:R,b:d},y=[],g=[];if(E&&(c.isPadded=E,c.maxLen=String(c.max).length),R<0){let b=d<0?Math.abs(d):1;g=ln(b,Math.abs(R),c,n),R=c.a=0}return d>=0&&(y=ln(R,d,c,n)),c.negatives=g,c.positives=y,c.result=us(g,y,n),n.capture===!0?c.result=`(${c.result})`:n.wrap!==!1&&y.length+g.length>1&&(c.result=`(?:${c.result})`),Le.cache[h]=c,c.result};function us(e,t,r){let n=qt(e,t,"-",!1,r)||[],i=qt(t,e,"",!1,r)||[],s=qt(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function as(e,t){let r=1,n=1,i=pn(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=pn(e,r);for(i=hn(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=hn(t+1,n)-1;return s=[...s],s.sort(fs),s}function cs(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=ls(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[h,R]=n[a];h===R?s+=h:h!=="0"||R!=="9"?s+=ps(h,R,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function ln(e,t,r,n){let i=as(e,t),s=[],o=e,a;for(let h=0;h<i.length;h++){let R=i[h],d=cs(String(o),String(R),n),E="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+dn(a.count),o=R+1;continue}r.isPadded&&(E=hs(R,r,n)),d.string=E+d.pattern+dn(d.count),s.push(d),o=R+1,a=d}return s}function qt(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!fn(t,"string",a)&&s.push(r+a),n&&fn(t,"string",a)&&s.push(r+a)}return s}function ls(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function fs(e,t){return e>t?1:t>e?-1:0}function fn(e,t,r){return e.some(n=>n[t]===r)}function pn(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function hn(e,t){return e-e%Math.pow(10,t)}function dn(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function ps(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function _n(e){return/^-?(0+)\d/.test(e)}function hs(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Le.cache={};Le.clearCache=()=>Le.cache={};gn.exports=Le});var Ft=B((pu,xn)=>{"use strict";var ds=require("util"),vn=Rn(),En=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),_s=e=>t=>e===!0?Number(t):String(t),Bt=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ve=e=>Number.isInteger(+e),Dt=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},gs=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Rs=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},gt=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Es=(e,t,r)=>{e.negatives.sort((a,h)=>a<h?-1:a>h?1:0),e.positives.sort((a,h)=>a<h?-1:a>h?1:0);let n=t.capture?"":"?:",i="",s="",o;return e.positives.length&&(i=e.positives.map(a=>gt(String(a),r)).join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.map(a=>gt(String(a),r)).join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,t.wrap?`(${n}${o})`:o},bn=(e,t,r,n)=>{if(r)return vn(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},mn=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return vn(e,t,r)},yn=(...e)=>new RangeError("Invalid range arguments: "+ds.inspect(...e)),An=(e,t,r)=>{if(r.strictRanges===!0)throw yn([e,t]);return[]},vs=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},bs=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw yn([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),h=String(t),R=String(r);r=Math.max(Math.abs(r),1);let d=Dt(a)||Dt(h)||Dt(R),E=d?Math.max(a.length,h.length,R.length):0,c=d===!1&&gs(e,t,n)===!1,y=n.transform||_s(c);if(n.toRegex&&r===1)return bn(gt(e,E),gt(t,E),!0,n);let g={negatives:[],positives:[]},b=k=>g[k<0?"negatives":"positives"].push(Math.abs(k)),$=[],L=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?b(i):$.push(Rs(y(i,L),E,c)),i=o?i-r:i+r,L++;return n.toRegex===!0?r>1?Es(g,n,E):mn($,null,{wrap:!1,...n}):$},ms=(e,t,r=1,n={})=>{if(!Ve(e)&&e.length>1||!Ve(t)&&t.length>1)return An(e,t,n);let i=n.transform||(c=>String.fromCharCode(c)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,h=Math.min(s,o),R=Math.max(s,o);if(n.toRegex&&r===1)return bn(h,R,!1,n);let d=[],E=0;for(;a?s>=o:s<=o;)d.push(i(s,E)),s=a?s-r:s+r,E++;return n.toRegex===!0?mn(d,null,{wrap:!1,options:n}):d},_t=(e,t,r,n={})=>{if(t==null&&Bt(e))return[e];if(!Bt(e)||!Bt(t))return An(e,t,n);if(typeof r=="function")return _t(e,t,1,{transform:r});if(En(r))return _t(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Ve(r)?Ve(e)&&Ve(t)?bs(e,t,r,i):ms(e,t,Math.max(Math.abs(r),1),i):r!=null&&!En(r)?vs(r,i):_t(e,t,1,r)};xn.exports=_t});var wn=B((hu,Sn)=>{"use strict";var ys=Ft(),Cn=ht(),As=(e,t={})=>{let r=(n,i={})=>{let s=Cn.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,h=t.escapeInvalid===!0?"\\":"",R="";if(n.isOpen===!0)return h+n.value;if(n.isClose===!0)return console.log("node.isClose",h,n.value),h+n.value;if(n.type==="open")return a?h+n.value:"(";if(n.type==="close")return a?h+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=Cn.reduce(n.nodes),E=ys(...d,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(E.length!==0)return d.length>1&&E.length>1?`(${E})`:E}if(n.nodes)for(let d of n.nodes)R+=r(d,n);return R};return r(e)};Sn.exports=As});var Nn=B((du,$n)=>{"use strict";var xs=Ft(),Tn=dt(),Ge=ht(),Me=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Ge.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Me(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Me(i,s,r):i+s);return Ge.flatten(n)},Cs=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Me(a.pop(),Tn(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Me(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let E=Ge.reduce(i.nodes);if(Ge.exceedsLimit(...E,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=xs(...E,t);c.length===0&&(c=Tn(i,t)),a.push(Me(a.pop(),c)),i.nodes=[];return}let h=Ge.encloseBrace(i),R=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,R=d.queue;for(let E=0;E<i.nodes.length;E++){let c=i.nodes[E];if(c.type==="comma"&&i.type==="brace"){E===1&&R.push(""),R.push("");continue}if(c.type==="close"){a.push(Me(a.pop(),R,h));continue}if(c.value&&c.type!=="open"){R.push(Me(R.pop(),c.value));continue}c.nodes&&n(c,i)}return R};return Ge.flatten(n(e))};$n.exports=Cs});var Hn=B((_u,On)=>{"use strict";On.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Pn=B((gu,In)=>{"use strict";var Ss=dt(),{MAX_LENGTH:Ln,CHAR_BACKSLASH:Ut,CHAR_BACKTICK:ws,CHAR_COMMA:Ts,CHAR_DOT:$s,CHAR_LEFT_PARENTHESES:Ns,CHAR_RIGHT_PARENTHESES:Os,CHAR_LEFT_CURLY_BRACE:Hs,CHAR_RIGHT_CURLY_BRACE:Ls,CHAR_LEFT_SQUARE_BRACKET:Mn,CHAR_RIGHT_SQUARE_BRACKET:kn,CHAR_DOUBLE_QUOTE:Ms,CHAR_SINGLE_QUOTE:ks,CHAR_NO_BREAK_SPACE:Is,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Ps}=Hn(),qs=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Ln,r.maxLength):Ln;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,h=0,R=e.length,d=0,E=0,c,y=()=>e[d++],g=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(g({type:"bos"});d<R;)if(o=s[s.length-1],c=y(),!(c===Ps||c===Is)){if(c===Ut){g({type:"text",value:(t.keepEscaping?c:"")+y()});continue}if(c===kn){g({type:"text",value:"\\"+c});continue}if(c===Mn){h++;let b;for(;d<R&&(b=y());){if(c+=b,b===Mn){h++;continue}if(b===Ut){c+=y();continue}if(b===kn&&(h--,h===0))break}g({type:"text",value:c});continue}if(c===Ns){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:c});continue}if(c===Os){if(o.type!=="paren"){g({type:"text",value:c});continue}o=s.pop(),g({type:"text",value:c}),o=s[s.length-1];continue}if(c===Ms||c===ks||c===ws){let b=c,$;for(t.keepQuotes!==!0&&(c="");d<R&&($=y());){if($===Ut){c+=$+y();continue}if($===b){t.keepQuotes===!0&&(c+=$);break}c+=$}g({type:"text",value:c});continue}if(c===Hs){E++;let $={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:E,commas:0,ranges:0,nodes:[]};o=g($),s.push(o),g({type:"open",value:c});continue}if(c===Ls){if(o.type!=="brace"){g({type:"text",value:c});continue}let b="close";o=s.pop(),o.close=!0,g({type:b,value:c}),E--,o=s[s.length-1];continue}if(c===Ts&&E>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:Ss(o)}]}g({type:"comma",value:c}),o.commas++;continue}if(c===$s&&E>0&&o.commas===0){let b=o.nodes;if(E===0||b.length===0){g({type:"text",value:c});continue}if(a.type==="dot"){if(o.range=[],a.value+=c,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let $=b[b.length-1];$.value+=a.value+c,a=$,o.ranges--;continue}g({type:"dot",value:c});continue}g({type:"text",value:c})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(L=>{L.nodes||(L.type==="open"&&(L.isOpen=!0),L.type==="close"&&(L.isClose=!0),L.nodes||(L.type="text"),L.invalid=!0)});let b=s[s.length-1],$=b.nodes.indexOf(o);b.nodes.splice($,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),i};In.exports=qs});var Dn=B((Ru,Bn)=>{"use strict";var qn=dt(),Bs=wn(),Ds=Nn(),Fs=Pn(),le=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=le.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(le.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};le.parse=(e,t={})=>Fs(e,t);le.stringify=(e,t={})=>qn(typeof e=="string"?le.parse(e,t):e,t);le.compile=(e,t={})=>(typeof e=="string"&&(e=le.parse(e,t)),Bs(e,t));le.expand=(e,t={})=>{typeof e=="string"&&(e=le.parse(e,t));let r=Ds(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};le.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?le.compile(e,t):le.expand(e,t);Bn.exports=le});var Ze=B((Eu,Kn)=>{"use strict";var Us=require("path"),me="\\\\/",Fn=`[^${me}]`,Se="\\.",Gs="\\+",js="\\?",Rt="\\/",Ks="(?=.)",Un="[^/]",Gt=`(?:${Rt}|$)`,Gn=`(?:^|${Rt})`,jt=`${Se}{1,2}${Gt}`,Ws=`(?!${Se})`,Qs=`(?!${Gn}${jt})`,zs=`(?!${Se}{0,1}${Gt})`,Xs=`(?!${jt})`,Vs=`[^.${Rt}]`,Zs=`${Un}*?`,jn={DOT_LITERAL:Se,PLUS_LITERAL:Gs,QMARK_LITERAL:js,SLASH_LITERAL:Rt,ONE_CHAR:Ks,QMARK:Un,END_ANCHOR:Gt,DOTS_SLASH:jt,NO_DOT:Ws,NO_DOTS:Qs,NO_DOT_SLASH:zs,NO_DOTS_SLASH:Xs,QMARK_NO_DOT:Vs,STAR:Zs,START_ANCHOR:Gn},Js={...jn,SLASH_LITERAL:`[${me}]`,QMARK:Fn,STAR:`${Fn}*?`,DOTS_SLASH:`${Se}{1,2}(?:[${me}]|$)`,NO_DOT:`(?!${Se})`,NO_DOTS:`(?!(?:^|[${me}])${Se}{1,2}(?:[${me}]|$))`,NO_DOT_SLASH:`(?!${Se}{0,1}(?:[${me}]|$))`,NO_DOTS_SLASH:`(?!${Se}{1,2}(?:[${me}]|$))`,QMARK_NO_DOT:`[^.${me}]`,START_ANCHOR:`(?:^|[${me}])`,END_ANCHOR:`(?:[${me}]|$)`},Ys={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Kn.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ys,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Us.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Js:jn}}});var Je=B(ae=>{"use strict";var eo=require("path"),to=process.platform==="win32",{REGEX_BACKSLASH:ro,REGEX_REMOVE_BACKSLASH:no,REGEX_SPECIAL_CHARS:io,REGEX_SPECIAL_CHARS_GLOBAL:so}=Ze();ae.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);ae.hasRegexChars=e=>io.test(e);ae.isRegexChar=e=>e.length===1&&ae.hasRegexChars(e);ae.escapeRegex=e=>e.replace(so,"\\$1");ae.toPosixSlashes=e=>e.replace(ro,"/");ae.removeBackslashes=e=>e.replace(no,t=>t==="\\"?"":t);ae.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};ae.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:to===!0||eo.sep==="\\";ae.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?ae.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};ae.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};ae.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Yn=B((bu,Jn)=>{"use strict";var Wn=Je(),{CHAR_ASTERISK:Kt,CHAR_AT:oo,CHAR_BACKWARD_SLASH:Ye,CHAR_COMMA:uo,CHAR_DOT:Wt,CHAR_EXCLAMATION_MARK:Qt,CHAR_FORWARD_SLASH:Zn,CHAR_LEFT_CURLY_BRACE:zt,CHAR_LEFT_PARENTHESES:Xt,CHAR_LEFT_SQUARE_BRACKET:ao,CHAR_PLUS:co,CHAR_QUESTION_MARK:Qn,CHAR_RIGHT_CURLY_BRACE:lo,CHAR_RIGHT_PARENTHESES:zn,CHAR_RIGHT_SQUARE_BRACKET:fo}=Ze(),Xn=e=>e===Zn||e===Ye,Vn=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},po=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],h=e,R=-1,d=0,E=0,c=!1,y=!1,g=!1,b=!1,$=!1,L=!1,k=!1,O=!1,w=!1,I=!1,Z=0,N,S,M={value:"",depth:0,isGlob:!1},F=()=>R>=n,p=()=>h.charCodeAt(R+1),K=()=>(N=S,h.charCodeAt(++R));for(;R<n;){S=K();let re;if(S===Ye){k=M.backslashes=!0,S=K(),S===zt&&(L=!0);continue}if(L===!0||S===zt){for(Z++;F()!==!0&&(S=K());){if(S===Ye){k=M.backslashes=!0,K();continue}if(S===zt){Z++;continue}if(L!==!0&&S===Wt&&(S=K())===Wt){if(c=M.isBrace=!0,g=M.isGlob=!0,I=!0,i===!0)continue;break}if(L!==!0&&S===uo){if(c=M.isBrace=!0,g=M.isGlob=!0,I=!0,i===!0)continue;break}if(S===lo&&(Z--,Z===0)){L=!1,c=M.isBrace=!0,I=!0;break}}if(i===!0)continue;break}if(S===Zn){if(s.push(R),o.push(M),M={value:"",depth:0,isGlob:!1},I===!0)continue;if(N===Wt&&R===d+1){d+=2;continue}E=R+1;continue}if(r.noext!==!0&&(S===co||S===oo||S===Kt||S===Qn||S===Qt)===!0&&p()===Xt){if(g=M.isGlob=!0,b=M.isExtglob=!0,I=!0,S===Qt&&R===d&&(w=!0),i===!0){for(;F()!==!0&&(S=K());){if(S===Ye){k=M.backslashes=!0,S=K();continue}if(S===zn){g=M.isGlob=!0,I=!0;break}}continue}break}if(S===Kt){if(N===Kt&&($=M.isGlobstar=!0),g=M.isGlob=!0,I=!0,i===!0)continue;break}if(S===Qn){if(g=M.isGlob=!0,I=!0,i===!0)continue;break}if(S===ao){for(;F()!==!0&&(re=K());){if(re===Ye){k=M.backslashes=!0,K();continue}if(re===fo){y=M.isBracket=!0,g=M.isGlob=!0,I=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&S===Qt&&R===d){O=M.negated=!0,d++;continue}if(r.noparen!==!0&&S===Xt){if(g=M.isGlob=!0,i===!0){for(;F()!==!0&&(S=K());){if(S===Xt){k=M.backslashes=!0,S=K();continue}if(S===zn){I=!0;break}}continue}break}if(g===!0){if(I=!0,i===!0)continue;break}}r.noext===!0&&(b=!1,g=!1);let G=h,_e="",l="";d>0&&(_e=h.slice(0,d),h=h.slice(d),E-=d),G&&g===!0&&E>0?(G=h.slice(0,E),l=h.slice(E)):g===!0?(G="",l=h):G=h,G&&G!==""&&G!=="/"&&G!==h&&Xn(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),r.unescape===!0&&(l&&(l=Wn.removeBackslashes(l)),G&&k===!0&&(G=Wn.removeBackslashes(G)));let f={prefix:_e,input:e,start:d,base:G,glob:l,isBrace:c,isBracket:y,isGlob:g,isExtglob:b,isGlobstar:$,negated:O,negatedExtglob:w};if(r.tokens===!0&&(f.maxDepth=0,Xn(S)||o.push(M),f.tokens=o),r.parts===!0||r.tokens===!0){let re;for(let q=0;q<s.length;q++){let ce=re?re+1:d,pe=s[q],oe=e.slice(ce,pe);r.tokens&&(q===0&&d!==0?(o[q].isPrefix=!0,o[q].value=_e):o[q].value=oe,Vn(o[q]),f.maxDepth+=o[q].depth),(q!==0||oe!=="")&&a.push(oe),re=pe}if(re&&re+1<e.length){let q=e.slice(re+1);a.push(q),r.tokens&&(o[o.length-1].value=q,Vn(o[o.length-1]),f.maxDepth+=o[o.length-1].depth)}f.slashes=s,f.parts=a}return f};Jn.exports=po});var ri=B((mu,ti)=>{"use strict";var Et=Ze(),fe=Je(),{MAX_LENGTH:vt,POSIX_REGEX_SOURCE:ho,REGEX_NON_SPECIAL_CHARS:_o,REGEX_SPECIAL_CHARS_BACKREF:go,REPLACEMENTS:ei}=Et,Ro=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>fe.escapeRegex(i)).join("..")}return r},je=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Vt=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=ei[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(vt,r.maxLength):vt,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",h=fe.isWindows(t),R=Et.globChars(h),d=Et.extglobChars(R),{DOT_LITERAL:E,PLUS_LITERAL:c,SLASH_LITERAL:y,ONE_CHAR:g,DOTS_SLASH:b,NO_DOT:$,NO_DOT_SLASH:L,NO_DOTS_SLASH:k,QMARK:O,QMARK_NO_DOT:w,STAR:I,START_ANCHOR:Z}=R,N=m=>`(${a}(?:(?!${Z}${m.dot?b:E}).)*?)`,S=r.dot?"":$,M=r.dot?O:w,F=r.bash===!0?N(r):I;r.capture&&(F=`(${F})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let p={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=fe.removePrefix(e,p),i=e.length;let K=[],G=[],_e=[],l=s,f,re=()=>p.index===i-1,q=p.peek=(m=1)=>e[p.index+m],ce=p.advance=()=>e[++p.index]||"",pe=()=>e.slice(p.index+1),oe=(m="",j=0)=>{p.consumed+=m,p.index+=j},Be=m=>{p.output+=m.output!=null?m.output:m.value,oe(m.value)},Nt=()=>{let m=1;for(;q()==="!"&&(q(2)!=="("||q(3)==="?");)ce(),p.start++,m++;return m%2===0?!1:(p.negated=!0,p.start++,!0)},De=m=>{p[m]++,_e.push(m)},xe=m=>{p[m]--,_e.pop()},P=m=>{if(l.type==="globstar"){let j=p.braces>0&&(m.type==="comma"||m.type==="brace"),v=m.extglob===!0||K.length&&(m.type==="pipe"||m.type==="paren");m.type!=="slash"&&m.type!=="paren"&&!j&&!v&&(p.output=p.output.slice(0,-l.output.length),l.type="star",l.value="*",l.output=F,p.output+=l.output)}if(K.length&&m.type!=="paren"&&(K[K.length-1].inner+=m.value),(m.value||m.output)&&Be(m),l&&l.type==="text"&&m.type==="text"){l.value+=m.value,l.output=(l.output||"")+m.value;return}m.prev=l,o.push(m),l=m},Fe=(m,j)=>{let v={...d[j],conditions:1,inner:""};v.prev=l,v.parens=p.parens,v.output=p.output;let H=(r.capture?"(":"")+v.open;De("parens"),P({type:m,value:j,output:p.output?"":g}),P({type:"paren",extglob:!0,value:ce(),output:H}),K.push(v)},Ue=m=>{let j=m.close+(r.capture?")":""),v;if(m.type==="negate"){let H=F;if(m.inner&&m.inner.length>1&&m.inner.includes("/")&&(H=N(r)),(H!==F||re()||/^\)+$/.test(pe()))&&(j=m.close=`)$))${H}`),m.inner.includes("*")&&(v=pe())&&/^\.[^\\/.]+$/.test(v)){let U=Vt(v,{...t,fastpaths:!1}).output;j=m.close=`)${U})${H})`}m.prev.type==="bos"&&(p.negatedExtglob=!0)}P({type:"paren",extglob:!0,value:f,output:j}),xe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let m=!1,j=e.replace(go,(v,H,U,ne,J,Ee)=>ne==="\\"?(m=!0,v):ne==="?"?H?H+ne+(J?O.repeat(J.length):""):Ee===0?M+(J?O.repeat(J.length):""):O.repeat(U.length):ne==="."?E.repeat(U.length):ne==="*"?H?H+ne+(J?F:""):F:H?v:`\\${v}`);return m===!0&&(r.unescape===!0?j=j.replace(/\\/g,""):j=j.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),j===e&&r.contains===!0?(p.output=e,p):(p.output=fe.wrapOutput(j,p,t),p)}for(;!re();){if(f=ce(),f==="\0")continue;if(f==="\\"){let v=q();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){f+="\\",P({type:"text",value:f});continue}let H=/^\\+/.exec(pe()),U=0;if(H&&H[0].length>2&&(U=H[0].length,p.index+=U,U%2!==0&&(f+="\\")),r.unescape===!0?f=ce():f+=ce(),p.brackets===0){P({type:"text",value:f});continue}}if(p.brackets>0&&(f!=="]"||l.value==="["||l.value==="[^")){if(r.posix!==!1&&f===":"){let v=l.value.slice(1);if(v.includes("[")&&(l.posix=!0,v.includes(":"))){let H=l.value.lastIndexOf("["),U=l.value.slice(0,H),ne=l.value.slice(H+2),J=ho[ne];if(J){l.value=U+J,p.backtrack=!0,ce(),!s.output&&o.indexOf(l)===1&&(s.output=g);continue}}}(f==="["&&q()!==":"||f==="-"&&q()==="]")&&(f=`\\${f}`),f==="]"&&(l.value==="["||l.value==="[^")&&(f=`\\${f}`),r.posix===!0&&f==="!"&&l.value==="["&&(f="^"),l.value+=f,Be({value:f});continue}if(p.quotes===1&&f!=='"'){f=fe.escapeRegex(f),l.value+=f,Be({value:f});continue}if(f==='"'){p.quotes=p.quotes===1?0:1,r.keepQuotes===!0&&P({type:"text",value:f});continue}if(f==="("){De("parens"),P({type:"paren",value:f});continue}if(f===")"){if(p.parens===0&&r.strictBrackets===!0)throw new SyntaxError(je("opening","("));let v=K[K.length-1];if(v&&p.parens===v.parens+1){Ue(K.pop());continue}P({type:"paren",value:f,output:p.parens?")":"\\)"}),xe("parens");continue}if(f==="["){if(r.nobracket===!0||!pe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(je("closing","]"));f=`\\${f}`}else De("brackets");P({type:"bracket",value:f});continue}if(f==="]"){if(r.nobracket===!0||l&&l.type==="bracket"&&l.value.length===1){P({type:"text",value:f,output:`\\${f}`});continue}if(p.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(je("opening","["));P({type:"text",value:f,output:`\\${f}`});continue}xe("brackets");let v=l.value.slice(1);if(l.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(f=`/${f}`),l.value+=f,Be({value:f}),r.literalBrackets===!1||fe.hasRegexChars(v))continue;let H=fe.escapeRegex(l.value);if(p.output=p.output.slice(0,-l.value.length),r.literalBrackets===!0){p.output+=H,l.value=H;continue}l.value=`(${a}${H}|${l.value})`,p.output+=l.value;continue}if(f==="{"&&r.nobrace!==!0){De("braces");let v={type:"brace",value:f,output:"(",outputIndex:p.output.length,tokensIndex:p.tokens.length};G.push(v),P(v);continue}if(f==="}"){let v=G[G.length-1];if(r.nobrace===!0||!v){P({type:"text",value:f,output:f});continue}let H=")";if(v.dots===!0){let U=o.slice(),ne=[];for(let J=U.length-1;J>=0&&(o.pop(),U[J].type!=="brace");J--)U[J].type!=="dots"&&ne.unshift(U[J].value);H=Ro(ne,r),p.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let U=p.output.slice(0,v.outputIndex),ne=p.tokens.slice(v.tokensIndex);v.value=v.output="\\{",f=H="\\}",p.output=U;for(let J of ne)p.output+=J.output||J.value}P({type:"brace",value:f,output:H}),xe("braces"),G.pop();continue}if(f==="|"){K.length>0&&K[K.length-1].conditions++,P({type:"text",value:f});continue}if(f===","){let v=f,H=G[G.length-1];H&&_e[_e.length-1]==="braces"&&(H.comma=!0,v="|"),P({type:"comma",value:f,output:v});continue}if(f==="/"){if(l.type==="dot"&&p.index===p.start+1){p.start=p.index+1,p.consumed="",p.output="",o.pop(),l=s;continue}P({type:"slash",value:f,output:y});continue}if(f==="."){if(p.braces>0&&l.type==="dot"){l.value==="."&&(l.output=E);let v=G[G.length-1];l.type="dots",l.output+=f,l.value+=f,v.dots=!0;continue}if(p.braces+p.parens===0&&l.type!=="bos"&&l.type!=="slash"){P({type:"text",value:f,output:E});continue}P({type:"dot",value:f,output:E});continue}if(f==="?"){if(!(l&&l.value==="(")&&r.noextglob!==!0&&q()==="("&&q(2)!=="?"){Fe("qmark",f);continue}if(l&&l.type==="paren"){let H=q(),U=f;if(H==="<"&&!fe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(l.value==="("&&!/[!=<:]/.test(H)||H==="<"&&!/<([!=]|\w+>)/.test(pe()))&&(U=`\\${f}`),P({type:"text",value:f,output:U});continue}if(r.dot!==!0&&(l.type==="slash"||l.type==="bos")){P({type:"qmark",value:f,output:w});continue}P({type:"qmark",value:f,output:O});continue}if(f==="!"){if(r.noextglob!==!0&&q()==="("&&(q(2)!=="?"||!/[!=<:]/.test(q(3)))){Fe("negate",f);continue}if(r.nonegate!==!0&&p.index===0){Nt();continue}}if(f==="+"){if(r.noextglob!==!0&&q()==="("&&q(2)!=="?"){Fe("plus",f);continue}if(l&&l.value==="("||r.regex===!1){P({type:"plus",value:f,output:c});continue}if(l&&(l.type==="bracket"||l.type==="paren"||l.type==="brace")||p.parens>0){P({type:"plus",value:f});continue}P({type:"plus",value:c});continue}if(f==="@"){if(r.noextglob!==!0&&q()==="("&&q(2)!=="?"){P({type:"at",extglob:!0,value:f,output:""});continue}P({type:"text",value:f});continue}if(f!=="*"){(f==="$"||f==="^")&&(f=`\\${f}`);let v=_o.exec(pe());v&&(f+=v[0],p.index+=v[0].length),P({type:"text",value:f});continue}if(l&&(l.type==="globstar"||l.star===!0)){l.type="star",l.star=!0,l.value+=f,l.output=F,p.backtrack=!0,p.globstar=!0,oe(f);continue}let m=pe();if(r.noextglob!==!0&&/^\([^?]/.test(m)){Fe("star",f);continue}if(l.type==="star"){if(r.noglobstar===!0){oe(f);continue}let v=l.prev,H=v.prev,U=v.type==="slash"||v.type==="bos",ne=H&&(H.type==="star"||H.type==="globstar");if(r.bash===!0&&(!U||m[0]&&m[0]!=="/")){P({type:"star",value:f,output:""});continue}let J=p.braces>0&&(v.type==="comma"||v.type==="brace"),Ee=K.length&&(v.type==="pipe"||v.type==="paren");if(!U&&v.type!=="paren"&&!J&&!Ee){P({type:"star",value:f,output:""});continue}for(;m.slice(0,3)==="/**";){let Oe=e[p.index+4];if(Oe&&Oe!=="/")break;m=m.slice(3),oe("/**",3)}if(v.type==="bos"&&re()){l.type="globstar",l.value+=f,l.output=N(r),p.output=l.output,p.globstar=!0,oe(f);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!ne&&re()){p.output=p.output.slice(0,-(v.output+l.output).length),v.output=`(?:${v.output}`,l.type="globstar",l.output=N(r)+(r.strictSlashes?")":"|$)"),l.value+=f,p.globstar=!0,p.output+=v.output+l.output,oe(f);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&m[0]==="/"){let Oe=m[1]!==void 0?"|$":"";p.output=p.output.slice(0,-(v.output+l.output).length),v.output=`(?:${v.output}`,l.type="globstar",l.output=`${N(r)}${y}|${y}${Oe})`,l.value+=f,p.output+=v.output+l.output,p.globstar=!0,oe(f+ce()),P({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&m[0]==="/"){l.type="globstar",l.value+=f,l.output=`(?:^|${y}|${N(r)}${y})`,p.output=l.output,p.globstar=!0,oe(f+ce()),P({type:"slash",value:"/",output:""});continue}p.output=p.output.slice(0,-l.output.length),l.type="globstar",l.output=N(r),l.value+=f,p.output+=l.output,p.globstar=!0,oe(f);continue}let j={type:"star",value:f,output:F};if(r.bash===!0){j.output=".*?",(l.type==="bos"||l.type==="slash")&&(j.output=S+j.output),P(j);continue}if(l&&(l.type==="bracket"||l.type==="paren")&&r.regex===!0){j.output=f,P(j);continue}(p.index===p.start||l.type==="slash"||l.type==="dot")&&(l.type==="dot"?(p.output+=L,l.output+=L):r.dot===!0?(p.output+=k,l.output+=k):(p.output+=S,l.output+=S),q()!=="*"&&(p.output+=g,l.output+=g)),P(j)}for(;p.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(je("closing","]"));p.output=fe.escapeLast(p.output,"["),xe("brackets")}for(;p.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(je("closing",")"));p.output=fe.escapeLast(p.output,"("),xe("parens")}for(;p.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(je("closing","}"));p.output=fe.escapeLast(p.output,"{"),xe("braces")}if(r.strictSlashes!==!0&&(l.type==="star"||l.type==="bracket")&&P({type:"maybe_slash",value:"",output:`${y}?`}),p.backtrack===!0){p.output="";for(let m of p.tokens)p.output+=m.output!=null?m.output:m.value,m.suffix&&(p.output+=m.suffix)}return p};Vt.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(vt,r.maxLength):vt,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=ei[e]||e;let s=fe.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:h,DOTS_SLASH:R,NO_DOT:d,NO_DOTS:E,NO_DOTS_SLASH:c,STAR:y,START_ANCHOR:g}=Et.globChars(s),b=r.dot?E:d,$=r.dot?c:d,L=r.capture?"":"?:",k={negated:!1,prefix:""},O=r.bash===!0?".*?":y;r.capture&&(O=`(${O})`);let w=S=>S.noglobstar===!0?O:`(${L}(?:(?!${g}${S.dot?R:o}).)*?)`,I=S=>{switch(S){case"*":return`${b}${h}${O}`;case".*":return`${o}${h}${O}`;case"*.*":return`${b}${O}${o}${h}${O}`;case"*/*":return`${b}${O}${a}${h}${$}${O}`;case"**":return b+w(r);case"**/*":return`(?:${b}${w(r)}${a})?${$}${h}${O}`;case"**/*.*":return`(?:${b}${w(r)}${a})?${$}${O}${o}${h}${O}`;case"**/.*":return`(?:${b}${w(r)}${a})?${o}${h}${O}`;default:{let M=/^(.*?)\.(\w+)$/.exec(S);if(!M)return;let F=I(M[1]);return F?F+o+M[2]:void 0}}},Z=fe.removePrefix(e,k),N=I(Z);return N&&r.strictSlashes!==!0&&(N+=`${a}?`),N};ti.exports=Vt});var ii=B((yu,ni)=>{"use strict";var Eo=require("path"),vo=Yn(),Zt=ri(),Jt=Je(),bo=Ze(),mo=e=>e&&typeof e=="object"&&!Array.isArray(e),Y=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(c=>Y(c,t,r));return c=>{for(let y of d){let g=y(c);if(g)return g}return!1}}let n=mo(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=Jt.isWindows(t),o=n?Y.compileRe(e,t):Y.makeRe(e,t,!1,!0),a=o.state;delete o.state;let h=()=>!1;if(i.ignore){let d={...t,ignore:null,onMatch:null,onResult:null};h=Y(i.ignore,d,r)}let R=(d,E=!1)=>{let{isMatch:c,match:y,output:g}=Y.test(d,o,t,{glob:e,posix:s}),b={glob:e,state:a,regex:o,posix:s,input:d,output:g,match:y,isMatch:c};return typeof i.onResult=="function"&&i.onResult(b),c===!1?(b.isMatch=!1,E?b:!1):h(d)?(typeof i.onIgnore=="function"&&i.onIgnore(b),b.isMatch=!1,E?b:!1):(typeof i.onMatch=="function"&&i.onMatch(b),E?b:!0)};return r&&(R.state=a),R};Y.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Jt.toPosixSlashes:null),a=e===n,h=a&&o?o(e):e;return a===!1&&(h=o?o(e):e,a=h===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=Y.matchBase(e,t,r,i):a=t.exec(h)),{isMatch:!!a,match:a,output:h}};Y.matchBase=(e,t,r,n=Jt.isWindows(r))=>(t instanceof RegExp?t:Y.makeRe(t,r)).test(Eo.basename(e));Y.isMatch=(e,t,r)=>Y(t,r)(e);Y.parse=(e,t)=>Array.isArray(e)?e.map(r=>Y.parse(r,t)):Zt(e,{...t,fastpaths:!1});Y.scan=(e,t)=>vo(e,t);Y.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let h=Y.toRegex(a,t);return n===!0&&(h.state=e),h};Y.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Zt.fastpaths(e,t)),i.output||(i=Zt(e,t)),Y.compileRe(i,t,r,n)};Y.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Y.constants=bo;ni.exports=Y});var oi=B((Au,si)=>{"use strict";si.exports=ii()});var pi=B((xu,fi)=>{"use strict";var ai=require("util"),ci=Dn(),ye=oi(),Yt=Je(),ui=e=>e===""||e==="./",li=e=>{let t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},Q=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let E=ye(String(t[d]),{...r,onResult:a},!0),c=E.state.negated||E.state.negatedExtglob;c&&o++;for(let y of e){let g=E(y,!0);(c?!g.isMatch:g.isMatch)&&(c?n.add(g.output):(n.delete(g.output),i.add(g.output)))}}let R=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&R.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return R};Q.match=Q;Q.matcher=(e,t)=>ye(e,t);Q.isMatch=(e,t,r)=>ye(t,r)(e);Q.any=Q.isMatch;Q.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=new Set(Q(e,t,{...r,onResult:s}));for(let a of i)o.has(a)||n.add(a);return[...n]};Q.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ai.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>Q.contains(e,n,r));if(typeof t=="string"){if(ui(e)||ui(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Q.isMatch(e,t,{...r,contains:!0})};Q.matchKeys=(e,t,r)=>{if(!Yt.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Q(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};Q.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=ye(String(i),r);if(n.some(o=>s(o)))return!0}return!1};Q.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=ye(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};Q.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ai.inspect(e)}"`);return[].concat(t).every(n=>ye(n,r)(e))};Q.capture=(e,t,r)=>{let n=Yt.isWindows(r),s=ye.makeRe(String(e),{...r,capture:!0}).exec(n?Yt.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Q.makeRe=(...e)=>ye.makeRe(...e);Q.scan=(...e)=>ye.scan(...e);Q.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of ci(String(n),t))r.push(ye.parse(i,t));return r};Q.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!li(e)?[e]:ci(e,t)};Q.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return Q.braces(e,{...t,expand:!0})};Q.hasBraces=li;fi.exports=Q});var di=B((Cu,hi)=>{hi.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Ri=B((Su,gi)=>{var yo=di(),_i={"{":"}","(":")","[":"]"},Ao=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,s=-2,o=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(o===-1||o>n||(o=e.indexOf("\\",t),o===-1||o>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(o=e.indexOf("\\",t),o===-1||o>i))||s!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(s=e.indexOf(")",t),s>t&&(o=e.indexOf("\\",t),o===-1||o>s))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(s=e.indexOf(")",r),s>r&&(o=e.indexOf("\\",r),o===-1||o>s))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var h=_i[a];if(h){var R=e.indexOf(h,t);R!==-1&&(t=R+1)}if(e[t]==="!")return!0}else t++}return!1},xo=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=_i[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};gi.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(yo(t))return!0;var n=Ao;return r&&r.strict===!1&&(n=xo),n(t)}});var Ei=B(tt=>{var et=nn()(__dirname),ke=require("path"),Co=pi(),So=Ri();function bt(e,t={}){let{ignore:r,...n}=t;if(Array.isArray(r)){t={...n};for(let i of r)if(So(i)){t.ignoreGlobs||(t.ignoreGlobs=[]);let s=Co.makeRe(i,{dot:!0,lookbehinds:!1});t.ignoreGlobs.push(s.source)}else t.ignorePaths||(t.ignorePaths=[]),t.ignorePaths.push(ke.resolve(e,i))}return t}tt.writeSnapshot=(e,t,r)=>et.writeSnapshot(ke.resolve(e),ke.resolve(t),bt(e,r));tt.getEventsSince=(e,t,r)=>et.getEventsSince(ke.resolve(e),ke.resolve(t),bt(e,r));tt.subscribe=async(e,t,r)=>(e=ke.resolve(e),r=bt(e,r),await et.subscribe(e,t,r),{unsubscribe(){return et.unsubscribe(e,t,r)}});tt.unsubscribe=(e,t,r)=>et.unsubscribe(ke.resolve(e),t,bt(e,r))});var Ke=B(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});function wo(e){return e===!0||e===!1}we.boolean=wo;function vi(e){return typeof e=="string"||e instanceof String}we.string=vi;function To(e){return typeof e=="number"||e instanceof Number}we.number=To;function $o(e){return e instanceof Error}we.error=$o;function No(e){return typeof e=="function"}we.func=No;function bi(e){return Array.isArray(e)}we.array=bi;function Oo(e){return bi(e)&&e.every(t=>vi(t))}we.stringArray=Oo});var yi=B(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});var Ie=Ke(),mi;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2})(mi=D.ErrorCodes||(D.ErrorCodes={}));var er=class e extends Error{constructor(t,r,n){super(r),this.code=Ie.number(t)?t:mi.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};D.ResponseError=er;var z=class{constructor(t,r){this._method=t,this._numberOfParams=r}get method(){return this._method}get numberOfParams(){return this._numberOfParams}};D.AbstractMessageType=z;var tr=class extends z{constructor(t){super(t,0),this._=void 0}};D.RequestType0=tr;var rr=class extends z{constructor(t){super(t,1),this._=void 0}};D.RequestType=rr;var nr=class extends z{constructor(t){super(t,1),this._=void 0}};D.RequestType1=nr;var ir=class extends z{constructor(t){super(t,2),this._=void 0}};D.RequestType2=ir;var sr=class extends z{constructor(t){super(t,3),this._=void 0}};D.RequestType3=sr;var or=class extends z{constructor(t){super(t,4),this._=void 0}};D.RequestType4=or;var ur=class extends z{constructor(t){super(t,5),this._=void 0}};D.RequestType5=ur;var ar=class extends z{constructor(t){super(t,6),this._=void 0}};D.RequestType6=ar;var cr=class extends z{constructor(t){super(t,7),this._=void 0}};D.RequestType7=cr;var lr=class extends z{constructor(t){super(t,8),this._=void 0}};D.RequestType8=lr;var fr=class extends z{constructor(t){super(t,9),this._=void 0}};D.RequestType9=fr;var pr=class extends z{constructor(t){super(t,1),this._=void 0}};D.NotificationType=pr;var hr=class extends z{constructor(t){super(t,0),this._=void 0}};D.NotificationType0=hr;var dr=class extends z{constructor(t){super(t,1),this._=void 0}};D.NotificationType1=dr;var _r=class extends z{constructor(t){super(t,2),this._=void 0}};D.NotificationType2=_r;var gr=class extends z{constructor(t){super(t,3),this._=void 0}};D.NotificationType3=gr;var Rr=class extends z{constructor(t){super(t,4),this._=void 0}};D.NotificationType4=Rr;var Er=class extends z{constructor(t){super(t,5),this._=void 0}};D.NotificationType5=Er;var vr=class extends z{constructor(t){super(t,6),this._=void 0}};D.NotificationType6=vr;var br=class extends z{constructor(t){super(t,7),this._=void 0}};D.NotificationType7=br;var mr=class extends z{constructor(t){super(t,8),this._=void 0}};D.NotificationType8=mr;var yr=class extends z{constructor(t){super(t,9),this._=void 0}};D.NotificationType9=yr;function Ho(e){let t=e;return t&&Ie.string(t.method)&&(Ie.string(t.id)||Ie.number(t.id))}D.isRequestMessage=Ho;function Lo(e){let t=e;return t&&Ie.string(t.method)&&e.id===void 0}D.isNotificationMessage=Lo;function Mo(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(Ie.string(t.id)||Ie.number(t.id)||t.id===null)}D.isResponseMessage=Mo});var rt=B(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});var ko;(function(e){function t(r){return{dispose:r}}e.create=t})(ko=Pe.Disposable||(Pe.Disposable={}));var Io;(function(e){let t={dispose(){}};e.None=function(){return t}})(Io=Pe.Event||(Pe.Event={}));var Ar=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(this._callbacks){for(var n=!1,i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...t){if(!this._callbacks)return[];for(var r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(a){console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},mt=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Ar),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i;return i={dispose:()=>{this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};mt._noop=function(){};Pe.Emitter=mt});var At=B($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var xr=rt(),We=Ke(),Cr=8192,Ai=Buffer.from("\r","ascii")[0],xi=Buffer.from(`
`,"ascii")[0],Po=`\r
`,Sr=class{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=Buffer.allocUnsafe(Cr)}append(t){var r=t;if(typeof t=="string"){var n=t,i=Buffer.byteLength(n,this.encoding);r=Buffer.allocUnsafe(i),r.write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=r.length)r.copy(this.buffer,this.index,0,r.length);else{var s=(Math.ceil((this.index+r.length)/Cr)+1)*Cr;this.index===0?(this.buffer=Buffer.allocUnsafe(s),r.copy(this.buffer,0,0,r.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),r],s)}this.index+=r.length}tryReadHeaders(){let t,r=0;for(;r+3<this.index&&(this.buffer[r]!==Ai||this.buffer[r+1]!==xi||this.buffer[r+2]!==Ai||this.buffer[r+3]!==xi);)r++;if(r+3>=this.index)return t;t=Object.create(null),this.buffer.toString("ascii",0,r).split(Po).forEach(s=>{let o=s.indexOf(":");if(o===-1)throw new Error("Message header must separate key and value using :");let a=s.substr(0,o),h=s.substr(o+1).trim();t[a]=h});let i=r+4;return this.buffer=this.buffer.slice(i),this.index=this.index-i,t}tryReadContent(t){if(this.index<t)return null;let r=this.buffer.toString(this.encoding,0,t),n=t;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,r}get numberOfBytes(){return this.index}},qo;(function(e){function t(r){let n=r;return n&&We.func(n.listen)&&We.func(n.dispose)&&We.func(n.onError)&&We.func(n.onClose)&&We.func(n.onPartialMessage)}e.is=t})(qo=$e.MessageReader||($e.MessageReader={}));var nt=class{constructor(){this.errorEmitter=new xr.Emitter,this.closeEmitter=new xr.Emitter,this.partialMessageEmitter=new xr.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader recevied error. Reason: ${We.string(t.message)?t.message:"unknown"}`)}};$e.AbstractMessageReader=nt;var yt=class extends nt{constructor(t,r="utf8"){super(),this.readable=t,this.buffer=new Sr(r),this._partialMessageTimeout=1e4}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t,this.readable.on("data",r=>{this.onData(r)}),this.readable.on("error",r=>this.fireError(r)),this.readable.on("close",()=>this.fireClose())}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i["Content-Length"];if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}var r=this.buffer.tryReadContent(this.nextMessageLength);if(r===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(r);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};$e.StreamMessageReader=yt;var wr=class extends nt{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){this.process.on("message",t)}};$e.IPCMessageReader=wr;var Tr=class extends yt{constructor(t,r="utf-8"){super(t,r)}};$e.SocketMessageReader=Tr});var Ct=B(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});var Ci=rt(),it=Ke(),Si="Content-Length: ",xt=`\r
`,Bo;(function(e){function t(r){let n=r;return n&&it.func(n.dispose)&&it.func(n.onClose)&&it.func(n.onError)&&it.func(n.write)}e.is=t})(Bo=Ne.MessageWriter||(Ne.MessageWriter={}));var Qe=class{constructor(){this.errorEmitter=new Ci.Emitter,this.closeEmitter=new Ci.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer recevied error. Reason: ${it.string(t.message)?t.message:"unknown"}`)}};Ne.AbstractMessageWriter=Qe;var $r=class extends Qe{constructor(t,r="utf8"){super(),this.writable=t,this.encoding=r,this.errorCount=0,this.writable.on("error",n=>this.fireError(n)),this.writable.on("close",()=>this.fireClose())}write(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[Si,n.toString(),xt,xt];try{this.writable.write(i.join(""),"ascii"),this.writable.write(r,this.encoding),this.errorCount=0}catch(s){this.errorCount++,this.fireError(s,t,this.errorCount)}}};Ne.StreamMessageWriter=$r;var Nr=class extends Qe{constructor(t){super(),this.process=t,this.errorCount=0,this.queue=[],this.sending=!1;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){try{this.process.send&&(this.sending=!0,this.process.send(t,void 0,void 0,r=>{this.sending=!1,r?(this.errorCount++,this.fireError(r,t,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.errorCount++,this.fireError(r,t,this.errorCount)}}};Ne.IPCMessageWriter=Nr;var Or=class extends Qe{constructor(t,r="utf8"){super(),this.socket=t,this.queue=[],this.sending=!1,this.encoding=r,this.errorCount=0,this.socket.on("error",n=>this.fireError(n)),this.socket.on("close",()=>this.fireClose())}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[Si,n.toString(),xt,xt];try{this.sending=!0,this.socket.write(i.join(""),"ascii",s=>{s&&this.handleError(s,t);try{this.socket.write(r,this.encoding,o=>{this.sending=!1,o?this.handleError(o,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(o){this.handleError(o,t)}})}catch(s){this.handleError(s,t)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}};Ne.SocketMessageWriter=Or});var Ti=B(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});var Hr=rt(),Do=Ke(),wi;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Hr.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Hr.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||Do.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(wi=st.CancellationToken||(st.CancellationToken={}));var Fo=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Lr=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Fo:(this._emitter||(this._emitter=new Hr.Emitter),this._emitter.event)}},Mr=class{get token(){return this._token||(this._token=new Lr),this._token}cancel(){this._token?this._token.cancel():this._token=wi.Cancelled}dispose(){this.cancel()}};st.CancellationTokenSource=Mr});var $i=B(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});var Ae;(function(e){e.None=0,e.First=1,e.Last=2})(Ae=ot.Touch||(ot.Touch={}));var kr=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(t){return this._map.has(t)}get(t){let r=this._map.get(t);if(r)return r.value}set(t,r,n=Ae.None){let i=this._map.get(t);if(i)i.value=r,n!==Ae.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Ae.None:this.addItemLast(i);break;case Ae.First:this.addItemFirst(i);break;case Ae.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}}delete(t){let r=this._map.get(t);return r?(this._map.delete(t),this.removeItem(r),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._head;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.next}forEachReverse(t,r){let n=this._tail;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.previous}values(){let t=[],r=this._head;for(;r;)t.push(r.value),r=r.next;return t}keys(){let t=[],r=this._head;for(;r;)t.push(r.key),r=r.next;return t}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head)this._head=t.next;else if(t===this._tail)this._tail=t.previous;else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Ae.First&&r!==Ae.Last)){if(r===Ae.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(r===Ae.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}}}};ot.LinkedMap=kr});var Li=B(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});var Uo=require("path"),Go=require("os"),jo=require("crypto"),Ni=require("net"),Oi=At(),Hi=Ct();function Ko(){let e=jo.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:Uo.join(Go.tmpdir(),`vscode-${e}.sock`)}ut.generateRandomPipeName=Ko;function Wo(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Ni.createServer(a=>{o.close(),r([new Oi.SocketMessageReader(a,t),new Hi.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}ut.createClientPipeTransport=Wo;function Qo(e,t="utf-8"){let r=Ni.createConnection(e);return[new Oi.SocketMessageReader(r,t),new Hi.SocketMessageWriter(r,t)]}ut.createServerPipeTransport=Qo});var Pi=B(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var Mi=require("net"),ki=At(),Ii=Ct();function zo(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Mi.createServer(a=>{o.close(),r([new ki.SocketMessageReader(a,t),new Ii.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}St.createClientSocketTransport=zo;function Xo(e,t="utf-8"){let r=Mi.createConnection(e,"127.0.0.1");return[new ki.SocketMessageReader(r,t),new Ii.SocketMessageWriter(r,t)]}St.createServerSocketTransport=Xo});var Fi=B(x=>{"use strict";function Bi(e){for(var t in e)x.hasOwnProperty(t)||(x[t]=e[t])}Object.defineProperty(x,"__esModule",{value:!0});var se=Ke(),T=yi();x.RequestType=T.RequestType;x.RequestType0=T.RequestType0;x.RequestType1=T.RequestType1;x.RequestType2=T.RequestType2;x.RequestType3=T.RequestType3;x.RequestType4=T.RequestType4;x.RequestType5=T.RequestType5;x.RequestType6=T.RequestType6;x.RequestType7=T.RequestType7;x.RequestType8=T.RequestType8;x.RequestType9=T.RequestType9;x.ResponseError=T.ResponseError;x.ErrorCodes=T.ErrorCodes;x.NotificationType=T.NotificationType;x.NotificationType0=T.NotificationType0;x.NotificationType1=T.NotificationType1;x.NotificationType2=T.NotificationType2;x.NotificationType3=T.NotificationType3;x.NotificationType4=T.NotificationType4;x.NotificationType5=T.NotificationType5;x.NotificationType6=T.NotificationType6;x.NotificationType7=T.NotificationType7;x.NotificationType8=T.NotificationType8;x.NotificationType9=T.NotificationType9;var ct=At();x.MessageReader=ct.MessageReader;x.StreamMessageReader=ct.StreamMessageReader;x.IPCMessageReader=ct.IPCMessageReader;x.SocketMessageReader=ct.SocketMessageReader;var lt=Ct();x.MessageWriter=lt.MessageWriter;x.StreamMessageWriter=lt.StreamMessageWriter;x.IPCMessageWriter=lt.IPCMessageWriter;x.SocketMessageWriter=lt.SocketMessageWriter;var qe=rt();x.Disposable=qe.Disposable;x.Event=qe.Event;x.Emitter=qe.Emitter;var ze=Ti();x.CancellationTokenSource=ze.CancellationTokenSource;x.CancellationToken=ze.CancellationToken;var qi=$i();Bi(Li());Bi(Pi());var at;(function(e){e.type=new T.NotificationType("$/cancelRequest")})(at||(at={}));x.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ee;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(ee=x.Trace||(x.Trace={}));(function(e){function t(n){switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(ee=x.Trace||(x.Trace={}));var ge;(function(e){e.Text="text",e.JSON="json"})(ge=x.TraceFormat||(x.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(ge=x.TraceFormat||(x.TraceFormat={}));var Di;(function(e){e.type=new T.NotificationType("$/setTraceNotification")})(Di=x.SetTraceNotification||(x.SetTraceNotification={}));var Ir;(function(e){e.type=new T.NotificationType("$/logTraceNotification")})(Ir=x.LogTraceNotification||(x.LogTraceNotification={}));var wt;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(wt=x.ConnectionErrors||(x.ConnectionErrors={}));var Xe=class e extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};x.ConnectionError=Xe;var Vo;(function(e){function t(r){let n=r;return n&&se.func(n.cancelUndispatched)}e.is=t})(Vo=x.ConnectionStrategy||(x.ConnectionStrategy={}));var Re;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Re||(Re={}));function Zo(e,t,r,n){let i=0,s=0,o=0,a="2.0",h,R=Object.create(null),d,E=Object.create(null),c,y=new qi.LinkedMap,g=Object.create(null),b=Object.create(null),$=ee.Off,L=ge.Text,k,O=Re.New,w=new qe.Emitter,I=new qe.Emitter,Z=new qe.Emitter,N=new qe.Emitter;function S(u){return"req-"+u.toString()}function M(u){return u===null?"res-unknown-"+(++o).toString():"res-"+u.toString()}function F(){return"not-"+(++s).toString()}function p(u,_){T.isRequestMessage(_)?u.set(S(_.id),_):T.isResponseMessage(_)?u.set(M(_.id),_):u.set(F(),_)}function K(u){}function G(){return O===Re.Listening}function _e(){return O===Re.Closed}function l(){return O===Re.Disposed}function f(){(O===Re.New||O===Re.Listening)&&(O=Re.Closed,I.fire(void 0))}function re(u){w.fire([u,void 0,void 0])}function q(u){w.fire(u)}e.onClose(f),e.onError(re),t.onClose(f),t.onError(q);function ce(){c||y.size===0||(c=setImmediate(()=>{c=void 0,pe()}))}function pe(){if(y.size===0)return;let u=y.shift();try{T.isRequestMessage(u)?Be(u):T.isNotificationMessage(u)?De(u):T.isResponseMessage(u)?Nt(u):xe(u)}finally{ce()}}let oe=u=>{try{if(T.isNotificationMessage(u)&&u.method===at.type.method){let _=S(u.params.id),A=y.get(_);if(T.isRequestMessage(A)){let C=n&&n.cancelUndispatched?n.cancelUndispatched(A,K):void 0;if(C&&(C.error!==void 0||C.result!==void 0)){y.delete(_),C.id=A.id,Ue(C,u.method,Date.now()),t.write(C);return}}}p(y,u)}finally{ce()}};function Be(u){if(l())return;function _(X,ue,V){let ie={jsonrpc:a,id:u.id};X instanceof T.ResponseError?ie.error=X.toJson():ie.result=X===void 0?null:X,Ue(ie,ue,V),t.write(ie)}function A(X,ue,V){let ie={jsonrpc:a,id:u.id,error:X.toJson()};Ue(ie,ue,V),t.write(ie)}function C(X,ue,V){X===void 0&&(X=null);let ie={jsonrpc:a,id:u.id,result:X};Ue(ie,ue,V),t.write(ie)}m(u);let W=R[u.method],he,ve;W&&(he=W.type,ve=W.handler);let te=Date.now();if(ve||h){let X=new ze.CancellationTokenSource,ue=String(u.id);b[ue]=X;try{let V;u.params===void 0||he!==void 0&&he.numberOfParams===0?V=ve?ve(X.token):h(u.method,X.token):se.array(u.params)&&(he===void 0||he.numberOfParams>1)?V=ve?ve(...u.params,X.token):h(u.method,...u.params,X.token):V=ve?ve(u.params,X.token):h(u.method,u.params,X.token);let ie=V;V?ie.then?ie.then(He=>{delete b[ue],_(He,u.method,te)},He=>{delete b[ue],He instanceof T.ResponseError?A(He,u.method,te):He&&se.string(He.message)?A(new T.ResponseError(T.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${He.message}`),u.method,te):A(new T.ResponseError(T.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,te)}):(delete b[ue],_(V,u.method,te)):(delete b[ue],C(V,u.method,te))}catch(V){delete b[ue],V instanceof T.ResponseError?_(V,u.method,te):V&&se.string(V.message)?A(new T.ResponseError(T.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${V.message}`),u.method,te):A(new T.ResponseError(T.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,te)}}else A(new T.ResponseError(T.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,te)}function Nt(u){if(!l())if(u.id===null)u.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let _=String(u.id),A=g[_];if(v(u,A),A){delete g[_];try{if(u.error){let C=u.error;A.reject(new T.ResponseError(C.code,C.message,C.data))}else if(u.result!==void 0)A.resolve(u.result);else throw new Error("Should never happen.")}catch(C){C.message?r.error(`Response handler '${A.method}' failed with message: ${C.message}`):r.error(`Response handler '${A.method}' failed unexpectedly.`)}}}}function De(u){if(l())return;let _,A;if(u.method===at.type.method)A=C=>{let W=C.id,he=b[String(W)];he&&he.cancel()};else{let C=E[u.method];C&&(A=C.handler,_=C.type)}if(A||d)try{j(u),u.params===void 0||_!==void 0&&_.numberOfParams===0?A?A():d(u.method):se.array(u.params)&&(_===void 0||_.numberOfParams>1)?A?A(...u.params):d(u.method,...u.params):A?A(u.params):d(u.method,u.params)}catch(C){C.message?r.error(`Notification handler '${u.method}' failed with message: ${C.message}`):r.error(`Notification handler '${u.method}' failed unexpectedly.`)}else Z.fire(u)}function xe(u){if(!u){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);let _=u;if(se.string(_.id)||se.number(_.id)){let A=String(_.id),C=g[A];C&&C.reject(new Error("The received response has neither a result nor an error property."))}}function P(u){if(!($===ee.Off||!k))if(L===ge.Text){let _;$===ee.Verbose&&u.params&&(_=`Params: ${JSON.stringify(u.params,null,4)}

`),k.log(`Sending request '${u.method} - (${u.id})'.`,_)}else H("send-request",u)}function Fe(u){if(!($===ee.Off||!k))if(L===ge.Text){let _;$===ee.Verbose&&(u.params?_=`Params: ${JSON.stringify(u.params,null,4)}

`:_=`No parameters provided.

`),k.log(`Sending notification '${u.method}'.`,_)}else H("send-notification",u)}function Ue(u,_,A){if(!($===ee.Off||!k))if(L===ge.Text){let C;$===ee.Verbose&&(u.error&&u.error.data?C=`Error data: ${JSON.stringify(u.error.data,null,4)}

`:u.result?C=`Result: ${JSON.stringify(u.result,null,4)}

`:u.error===void 0&&(C=`No result returned.

`)),k.log(`Sending response '${_} - (${u.id})'. Processing request took ${Date.now()-A}ms`,C)}else H("send-response",u)}function m(u){if(!($===ee.Off||!k))if(L===ge.Text){let _;$===ee.Verbose&&u.params&&(_=`Params: ${JSON.stringify(u.params,null,4)}

`),k.log(`Received request '${u.method} - (${u.id})'.`,_)}else H("receive-request",u)}function j(u){if(!($===ee.Off||!k||u.method===Ir.type.method))if(L===ge.Text){let _;$===ee.Verbose&&(u.params?_=`Params: ${JSON.stringify(u.params,null,4)}

`:_=`No parameters provided.

`),k.log(`Received notification '${u.method}'.`,_)}else H("receive-notification",u)}function v(u,_){if(!($===ee.Off||!k))if(L===ge.Text){let A;if($===ee.Verbose&&(u.error&&u.error.data?A=`Error data: ${JSON.stringify(u.error.data,null,4)}

`:u.result?A=`Result: ${JSON.stringify(u.result,null,4)}

`:u.error===void 0&&(A=`No result returned.

`)),_){let C=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";k.log(`Received response '${_.method} - (${u.id})' in ${Date.now()-_.timerStart}ms.${C}`,A)}else k.log(`Received response ${u.id} without active response promise.`,A)}else H("receive-response",u)}function H(u,_){if(!k||$===ee.Off)return;let A={isLSPMessage:!0,type:u,message:_,timestamp:Date.now()};k.log(A)}function U(){if(_e())throw new Xe(wt.Closed,"Connection is closed.");if(l())throw new Xe(wt.Disposed,"Connection is disposed.")}function ne(){if(G())throw new Xe(wt.AlreadyListening,"Connection is already listening")}function J(){if(!G())throw new Error("Call listen() first.")}function Ee(u){return u===void 0?null:u}function Oe(u,_){let A,C=u.numberOfParams;switch(C){case 0:A=null;break;case 1:A=Ee(_[0]);break;default:A=[];for(let W=0;W<_.length&&W<C;W++)A.push(Ee(_[W]));if(_.length<C)for(let W=_.length;W<C;W++)A.push(null);break}return A}let ft={sendNotification:(u,..._)=>{U();let A,C;if(se.string(u))switch(A=u,_.length){case 0:C=null;break;case 1:C=_[0];break;default:C=_;break}else A=u.method,C=Oe(u,_);let W={jsonrpc:a,method:A,params:C};Fe(W),t.write(W)},onNotification:(u,_)=>{U(),se.func(u)?d=u:_&&(se.string(u)?E[u]={type:void 0,handler:_}:E[u.method]={type:u,handler:_})},sendRequest:(u,..._)=>{U(),J();let A,C,W;if(se.string(u))switch(A=u,_.length){case 0:C=null;break;case 1:ze.CancellationToken.is(_[0])?(C=null,W=_[0]):C=Ee(_[0]);break;default:let te=_.length-1;ze.CancellationToken.is(_[te])?(W=_[te],_.length===2?C=Ee(_[0]):C=_.slice(0,te).map(X=>Ee(X))):C=_.map(X=>Ee(X));break}else{A=u.method,C=Oe(u,_);let te=u.numberOfParams;W=ze.CancellationToken.is(_[te])?_[te]:void 0}let he=i++,ve=new Promise((te,X)=>{let ue={jsonrpc:a,id:he,method:A,params:C},V={method:A,timerStart:Date.now(),resolve:te,reject:X};P(ue);try{t.write(ue)}catch(ie){V.reject(new T.ResponseError(T.ErrorCodes.MessageWriteError,ie.message?ie.message:"Unknown reason")),V=null}V&&(g[String(he)]=V)});return W&&W.onCancellationRequested(()=>{ft.sendNotification(at.type,{id:he})}),ve},onRequest:(u,_)=>{U(),se.func(u)?h=u:_&&(se.string(u)?R[u]={type:void 0,handler:_}:R[u.method]={type:u,handler:_})},trace:(u,_,A)=>{let C=!1,W=ge.Text;A!==void 0&&(se.boolean(A)?C=A:(C=A.sendNotification||!1,W=A.traceFormat||ge.Text)),$=u,L=W,$===ee.Off?k=void 0:k=_,C&&!_e()&&!l()&&ft.sendNotification(Di.type,{value:ee.toString(u)})},onError:w.event,onClose:I.event,onUnhandledNotification:Z.event,onDispose:N.event,dispose:()=>{if(l())return;O=Re.Disposed,N.fire(void 0);let u=new Error("Connection got disposed.");Object.keys(g).forEach(_=>{g[_].reject(u)}),g=Object.create(null),b=Object.create(null),y=new qi.LinkedMap,se.func(t.dispose)&&t.dispose(),se.func(e.dispose)&&e.dispose()},listen:()=>{U(),ne(),O=Re.Listening,e.listen(oe)},inspect:()=>{console.log("inspect")}};return ft.onNotification(Ir.type,u=>{$===ee.Off||!k||k.log(u.message,$===ee.Verbose?u.verbose:void 0)}),ft}function Jo(e){return e.listen!==void 0&&e.read===void 0}function Yo(e){return e.write!==void 0&&e.end===void 0}function eu(e,t,r,n){r||(r=x.NullLogger);let i=Jo(e)?e:new ct.StreamMessageReader(e),s=Yo(t)?t:new lt.StreamMessageWriter(t);return Zo(i,s,r,n)}x.createMessageConnection=eu});var Ki=B((qu,ji)=>{"use strict";function tu(e,t){var r=e;t.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=t[t.length-1];return n in r}function Ui(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Gi(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}ji.exports=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(r.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(w){r.bools[w]=!0});var n={};function i(w){return n[w].some(function(I){return r.bools[I]})}Object.keys(t.alias||{}).forEach(function(w){n[w]=[].concat(t.alias[w]),n[w].forEach(function(I){n[I]=[w].concat(n[w].filter(function(Z){return I!==Z}))})}),[].concat(t.string).filter(Boolean).forEach(function(w){r.strings[w]=!0,n[w]&&[].concat(n[w]).forEach(function(I){r.strings[I]=!0})});var s=t.default||{},o={_:[]};function a(w,I){return r.allBools&&/^--[^=]+$/.test(I)||r.strings[w]||r.bools[w]||n[w]}function h(w,I,Z){for(var N=w,S=0;S<I.length-1;S++){var M=I[S];if(Gi(N,M))return;N[M]===void 0&&(N[M]={}),(N[M]===Object.prototype||N[M]===Number.prototype||N[M]===String.prototype)&&(N[M]={}),N[M]===Array.prototype&&(N[M]=[]),N=N[M]}var F=I[I.length-1];Gi(N,F)||((N===Object.prototype||N===Number.prototype||N===String.prototype)&&(N={}),N===Array.prototype&&(N=[]),N[F]===void 0||r.bools[F]||typeof N[F]=="boolean"?N[F]=Z:Array.isArray(N[F])?N[F].push(Z):N[F]=[N[F],Z])}function R(w,I,Z){if(!(Z&&r.unknownFn&&!a(w,Z)&&r.unknownFn(Z)===!1)){var N=!r.strings[w]&&Ui(I)?Number(I):I;h(o,w.split("."),N),(n[w]||[]).forEach(function(S){h(o,S.split("."),N)})}}Object.keys(r.bools).forEach(function(w){R(w,s[w]===void 0?!1:s[w])});var d=[];e.indexOf("--")!==-1&&(d=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var E=0;E<e.length;E++){var c=e[E],y,g;if(/^--.+=/.test(c)){var b=c.match(/^--([^=]+)=([\s\S]*)$/);y=b[1];var $=b[2];r.bools[y]&&($=$!=="false"),R(y,$,c)}else if(/^--no-.+/.test(c))y=c.match(/^--no-(.+)/)[1],R(y,!1,c);else if(/^--.+/.test(c))y=c.match(/^--(.+)/)[1],g=e[E+1],g!==void 0&&!/^(-|--)[^-]/.test(g)&&!r.bools[y]&&!r.allBools&&(!n[y]||!i(y))?(R(y,g,c),E+=1):/^(true|false)$/.test(g)?(R(y,g==="true",c),E+=1):R(y,r.strings[y]?"":!0,c);else if(/^-[^-]+/.test(c)){for(var L=c.slice(1,-1).split(""),k=!1,O=0;O<L.length;O++){if(g=c.slice(O+2),g==="-"){R(L[O],g,c);continue}if(/[A-Za-z]/.test(L[O])&&g[0]==="="){R(L[O],g.slice(1),c),k=!0;break}if(/[A-Za-z]/.test(L[O])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(g)){R(L[O],g,c),k=!0;break}if(L[O+1]&&L[O+1].match(/\W/)){R(L[O],c.slice(O+2),c),k=!0;break}else R(L[O],r.strings[L[O]]?"":!0,c)}y=c.slice(-1)[0],!k&&y!=="-"&&(e[E+1]&&!/^(-|--)[^-]/.test(e[E+1])&&!r.bools[y]&&(!n[y]||!i(y))?(R(y,e[E+1],c),E+=1):e[E+1]&&/^(true|false)$/.test(e[E+1])?(R(y,e[E+1]==="true",c),E+=1):R(y,r.strings[y]?"":!0,c))}else if((!r.unknownFn||r.unknownFn(c)!==!1)&&o._.push(r.strings._||!Ui(c)?c:Number(c)),t.stopEarly){o._.push.apply(o._,e.slice(E+1));break}}return Object.keys(s).forEach(function(w){tu(o,w.split("."))||(h(o,w.split("."),s[w]),(n[w]||[]).forEach(function(I){h(o,I.split("."),s[w])}))}),t["--"]?o["--"]=d.slice():d.forEach(function(w){o._.push(w)}),o}});var Wi=pt(Ei()),$t=pt(Fi()),Qi=pt(Ki()),zi=pt(require("fs"));process.on("uncaughtException",()=>{});process.on("unhandledRejection",()=>{});var Br=(0,Qi.default)(process.argv.slice(2)),qr=Br?.["pipe-name"],Tt=Br?.hostProcessId,ru=Br?.logging,Pr=new Map,nu=`${__dirname}/output.${process.pid}.txt`,Te=e=>{ru&&(console.error(e),zi.default.appendFile(nu,`${e}\r
`,()=>{}))};Te(`pipeName===>${qr}`);Te(`hostProcessId===>${Tt}`);Tt&&parseInt(Tt)&&setInterval(()=>{try{process.kill(parseInt(Tt),0)}catch{process.kill(process.pid,"SIGKILL")}},3e3);var iu=e=>{switch(e){case"create":return"ADD";case"update":return"MODIFY";case"delete":return"REMOVE"}};qr&&(async()=>{try{let t=$t.createServerPipeTransport(qr),r=$t.createMessageConnection(t[0],t[1]),n=!1;r.listen(),r.onRequest("fs/watch",async({dir:i,handleId:s,opt:o})=>{Te(`fs/watch-[${i}]-[${s}]`);let a={ignore:o?.ignore||[]};try{let h=await(0,Wi.subscribe)(i,(R,d)=>{try{if(R)return;let E=d.map(({path:y,type:g})=>({fspath:y,kind:iu(g)})),c=[{handleId:s,events:E}];Te(`fs/fileChanged-${JSON.stringify(c)}`),r.sendNotification("fs/fileChanged",c)}catch{n&&process.exit(1)}},a);Pr.set(s,h)}catch(h){Te(`fs/watch/error-[${h}]`)}}),r.onRequest("fs/unwatch",({handleId:i})=>{Te(`fs/unwatch-[${i}]`),Pr.get(i)?.unsubscribe?.(),Pr.delete(i)}),r.onDispose(()=>{Te("onDispose"),n=!0}),r.onError(()=>{Te("onError"),n=!0}),r.onClose(()=>{Te("onClose"),n=!0}),r.sendNotification("started",!0)}catch{}})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
